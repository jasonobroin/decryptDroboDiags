A Drobo Diags zip file contains a number of files. 

# Filename and format

A Drobo diags file is a zip file, holding a number of text and binary diag files.

The filename contains the Drobo serial number and the time and date stamp of when the diags were collected

# General notes

Drobo systems use between 1 and 8 CPU cores, split between VxWorks and Linux operation systems.

The core Beyond RAID code runs as a executable process on VxWorks; USB and Thunderbolt direct attached devices, such as Drobo 5D ONLY run VxWorks.

Network connected products (both NAS and iSCSI attached systems) also run Linux on a number of cores to provide network connectivity.

## Diags sub-types

Diags can be generated by three fundamental entities

### VxWorks core

- Diags from the Beyond RAID application
- Kernel level diags (primarily early bring up info)
- Event logs - from flash, from the diskpack, and in-memory event log
- Crash logs (stored in flash)
- Binary data generated at diag generation time, such as the zone table, and performance metrics

### Linux core (if present)

- Logs from the nasd application - the main agent that controls the network core
- iSCSI logs for iSCSI attached products
- Various Linux system logs, including SMB and APD log files
- DroboApps log files

### Dashboard logs

- Various logs from the Dashboard application (and supporting daemons)

# Info on specific VxWorks log files 

## LockedDiags

This is the core diagnostic log file from the BeyondRAID application, and represents the current internal state of the system when the diags are collected

All key modules within the BeyondRAID stack report their internal state; some modules also report inflight transaction information.

These diags are collected by taking all appropriate system mutexs and locks; as a result each module is able to report an accurate view of its internal data structures. However, the system continues to run as all the diags are generated, so there may be changes in state between modules as the diags are collected. In general this is not important.

LockedDiags also reports some information from some kernel level modules

## LiveLog

An in memory log of output from the VxWorks core (i.e. kernel and BeyondRAID stack output), allowing analysis of what has happened over time

## EventLog

A list of major events in the life of the DiskPack; this version is kept on-disk, and can only be generated if the disk pack is loaded. Note this moves with the diskpack

Note that the eventlog can also include events that are stored in memory but haven't yet been written to disk (for example, events that occur before the diskpack is fully loaded). This can be useful if a diskpack can not be loaded successfully

## FlashLog

A list of major events in the life of the Drobo DiskPack; this version is kept in flash.

It can be generated even if the diskpack can't be loaded, although it may not be able to report the most recent events. It does reflect events that have occurred on the Drobo chasiss, and may relect activity on multiple diskpacks.

## Crashlogs

<Add info>

## ZoneTable.bin

This file is generated at diag capture time and reports the organization of the ZoneTable - which Logical Disks and Regions are used to form each zone, and the layout type of each zone

## PerfTable.bin

THis file is generated at diag capture time and reports various internal performance metrics

## Other?

# Info on specific Linux log files 

# Info on specific Dashboard log files 

# Log file navigation

Most of the log files (with the primary exeception of core Linux log files) are well structured with clear headers differentiating sections of the logs

The Javascript code is able to find these separate log sections, provide a linked index of the sections, allowing easy access to the sections, and also allowing individual sections to be hidden or shown as required.

Navigation links also allow quick navigation between sections of the log files, and also to the top and bottom of the file

